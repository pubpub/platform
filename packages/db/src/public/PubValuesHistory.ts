// @generated
// This file is automatically generated by Kanel. Do not modify manually.

import type { Insertable, Selectable, Updateable } from "kysely";

import { z } from "zod";

import type { HistoryTable } from "../types/HistoryTable";
import type { PubValues } from "./PubValues";
import { actionRunsIdSchema } from "./ActionRuns";
import { apiAccessTokensIdSchema } from "./ApiAccessTokens";
import { operationTypeSchema } from "./OperationType";
import { usersIdSchema } from "./Users";

/** Identifier type for public.pub_values_history */
export type PubValuesHistoryHistId = string & { __brand: "PubValuesHistoryHistId" };

/** Represents the table public.pub_values_history */
export type PubValuesHistoryTable = HistoryTable<PubValues, PubValuesHistoryHistId>;

export type PubValuesHistory = Selectable<PubValuesHistoryTable>;

export type NewPubValuesHistory = Insertable<PubValuesHistoryTable>;

export type PubValuesHistoryUpdate = Updateable<PubValuesHistoryTable>;

export const pubValuesHistoryHistIdSchema = z
	.string()
	.uuid() as unknown as z.Schema<PubValuesHistoryHistId>;

export const pubValuesHistorySchema = z.object({
	histId: pubValuesHistoryHistIdSchema,
	createdAt: z.date(),
	operationType: operationTypeSchema,
	oldRowData: z.unknown().nullable(),
	newRowData: z.unknown().nullable(),
	primaryKeyValue: z.string().nullable(),
	userId: usersIdSchema.nullable(),
	apiAccessTokenId: apiAccessTokensIdSchema.nullable(),
	actionRunId: actionRunsIdSchema.nullable(),
	other: z.string().nullable(),
});

export const pubValuesHistoryInitializerSchema = z.object({
	histId: pubValuesHistoryHistIdSchema.optional(),
	createdAt: z.date().optional(),
	operationType: operationTypeSchema,
	oldRowData: z.unknown().optional().nullable(),
	newRowData: z.unknown().optional().nullable(),
	primaryKeyValue: z.string().optional().nullable(),
	userId: usersIdSchema.optional().nullable(),
	apiAccessTokenId: apiAccessTokensIdSchema.optional().nullable(),
	actionRunId: actionRunsIdSchema.optional().nullable(),
	other: z.string().optional().nullable(),
});

export const pubValuesHistoryMutatorSchema = z.object({
	histId: pubValuesHistoryHistIdSchema.optional(),
	createdAt: z.date().optional(),
	operationType: operationTypeSchema.optional(),
	oldRowData: z.unknown().optional().nullable(),
	newRowData: z.unknown().optional().nullable(),
	primaryKeyValue: z.string().optional().nullable(),
	userId: usersIdSchema.optional().nullable(),
	apiAccessTokenId: apiAccessTokensIdSchema.optional().nullable(),
	actionRunId: actionRunsIdSchema.optional().nullable(),
	other: z.string().optional().nullable(),
});
