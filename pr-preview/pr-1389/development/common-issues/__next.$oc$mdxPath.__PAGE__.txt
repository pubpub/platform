1:"$Sreact.fragment"
2:I[74508,["/platform/pr-preview/pr-1389/_next/static/chunks/dd28ad6c648d3915.js","/platform/pr-preview/pr-1389/_next/static/chunks/7c21ffbacf124703.js","/platform/pr-preview/pr-1389/_next/static/chunks/40c2ac68a22f3b83.js","/platform/pr-preview/pr-1389/_next/static/chunks/e2d6c8eabf052809.js"],"TOCProvider"]
3:I[99951,["/platform/pr-preview/pr-1389/_next/static/chunks/dd28ad6c648d3915.js","/platform/pr-preview/pr-1389/_next/static/chunks/7c21ffbacf124703.js","/platform/pr-preview/pr-1389/_next/static/chunks/40c2ac68a22f3b83.js","/platform/pr-preview/pr-1389/_next/static/chunks/e2d6c8eabf052809.js"],"Sidebar"]
4:I[87765,["/platform/pr-preview/pr-1389/_next/static/chunks/dd28ad6c648d3915.js","/platform/pr-preview/pr-1389/_next/static/chunks/7c21ffbacf124703.js","/platform/pr-preview/pr-1389/_next/static/chunks/40c2ac68a22f3b83.js","/platform/pr-preview/pr-1389/_next/static/chunks/e2d6c8eabf052809.js"],"ClientWrapper"]
9:I[22915,["/platform/pr-preview/pr-1389/_next/static/chunks/dd28ad6c648d3915.js","/platform/pr-preview/pr-1389/_next/static/chunks/7c21ffbacf124703.js","/platform/pr-preview/pr-1389/_next/static/chunks/40c2ac68a22f3b83.js","/platform/pr-preview/pr-1389/_next/static/chunks/e2d6c8eabf052809.js"],"HeadingAnchor"]
16:I[2273,["/platform/pr-preview/pr-1389/_next/static/chunks/aeacce398bb52d2f.js","/platform/pr-preview/pr-1389/_next/static/chunks/688156694ad04c7c.js"],"OutletBoundary"]
17:"$Sreact.suspense"
19:I[68093,["/platform/pr-preview/pr-1389/_next/static/chunks/dd28ad6c648d3915.js","/platform/pr-preview/pr-1389/_next/static/chunks/7c21ffbacf124703.js","/platform/pr-preview/pr-1389/_next/static/chunks/40c2ac68a22f3b83.js","/platform/pr-preview/pr-1389/_next/static/chunks/e2d6c8eabf052809.js"],"ToggleWordWrapButton"]
5:Tad8,# Issues you may run into

## Hard to explain "Foregin key constraints failed" errors

This might be a caching issue. Did you do a `pnpm reset` when the dev server was running?
Try quitting the dev server, running `pnpm --filter core clear-cache` and then restarting the dev server.

This should be a dev only error, although it might also appear when build previews are deployed (as `pnpm reset` is currently (March 25, 2025) run during the build).

## Typescript dev server keeps crashing

This might be due to extremely large types, but it's likely due to a bug in another VS Code extension or a bug in a Typescript extension.

### `next` typescript plugin

Most often, this is due to the `next` typescript plugin. Sadly, `next` does not want to disable auto adding this plugin to `core/tsconfig.json`, see https://github.com/vercel/next.js/discussions/39942.

So either, we patch `next` to not do this, which can accomplished by doing something like this

```diff filename=node_modules/.pnpm/next@.../node_modules/next/dist/lib/typescript/writeConfigurationDefaults.js:314

      if (suggestedActions.length < 1 && requiredActions.length < 1) {
          return;
      }
-     await _fs.promises.writeFile(tsConfigPath, _commentjson.stringify(userTsConfig, null, 2) + _os.default.EOL);
+    // await _fs.promises.writeFile(tsConfigPath, _commentjson.stringify(userTsConfig, null, 2) + _os.default.EOL);
      _log.info('');
      if (isFirstTimeSetup) {
          _log.info(`We detected TypeScript in your project and created a ${(0, _picocolors.cyan)('tsconfig.json')} file for you.`);
```

You might also need to do the same in `node_modules/.pnpm/next@.../node_modules/next/dist/esm/lib/typescript/writeConfigurationDefaults.js` (the ESM version).

Another solution is to use the VS Code version of Typescript rather than the workspace version. Do `CMD + SHIFT + P` and then `> Typescript: Select TypeScript version` and then select `Use VS Code Version`. Make sure they are both using the same version.

### Rogue VS Code extensions

Some common VS Code extensions can also cause issues.

Ones I've observed to cause issues are:

- Astro plugin
- `better-ts-errors`

### `dispatcher.getOwner is not a function`

If you see something like

```
TypeError: dispatcher.getOwner is not a function
    at getOwner (/node_modules/.pnpm/react@19.1.1/node_modules/react/cjs/react.development.js:162:54)
    at process.env.NODE_ENV.exports.createElement (/node_modules/.pnpm/react@19.1.1/node_modules/react/cjs/react.development.js:1031:9)
    at Tester
```

this likely means that React is trying to render a component with no `NODE_ENV` set. This has been observed to happen when running the site-builder with `pnpm start` with no `NODE_ENV` set, eg when running `pnpm start`.0:{"buildId":"ZxuT62PsyuWQGSnk5WzO3","rsc":["$","$1","c",{"children":[["$","div",null,{"className":"x:mx-auto x:flex x:max-w-(--nextra-content-width)","children":["$","$L2",null,{"value":[{"value":"Hard to explain “Foregin key constraints failed” errors","id":"hard-to-explain-foregin-key-constraints-failed-errors","depth":2},{"value":"Typescript dev server keeps crashing","id":"typescript-dev-server-keeps-crashing","depth":2},{"value":[["$","$1",".0",{"children":[["$","code",".0",{"className":"nextra-code","dir":"ltr","children":"next"}]," typescript plugin"]}]],"id":"next-typescript-plugin","depth":3},{"value":"Rogue VS Code extensions","id":"rogue-vs-code-extensions","depth":3},{"value":[["$","$1",".0",{"children":[["$","code",".0",{"className":"nextra-code","dir":"ltr","children":"dispatcher.getOwner is not a function"}]]}]],"id":"dispatchergetowner-is-not-a-function","depth":3}],"children":[["$","$L3",null,{}],["$","$L4",null,{"metadata":{"title":"Issues you may run into","filePath":"content/development/common-issues.mdx","timestamp":1759937674000},"sourceCode":"$5","children":["$L6","$L7"]}]]}]}],null,"$L8"]}],"loading":null,"isPartial":false}
6:["$","div",null,{"id":"nextra-skip-nav"}]
7:["$","main",null,{"data-pagefind-body":true,"children":[["$","h1",null,{"className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-bold x:mt-2 x:text-4xl","children":["Issues you may run into","$undefined"]}],"\n",["$","h2",null,{"id":"hard-to-explain-foregin-key-constraints-failed-errors","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-10 x:border-b x:pb-1 x:text-3xl nextra-border","children":["Hard to explain “Foregin key constraints failed” errors",["$","$L9",null,{"id":"hard-to-explain-foregin-key-constraints-failed-errors"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["This might be a caching issue. Did you do a ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"pnpm reset"}]," when the dev server was running?\nTry quitting the dev server, running ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"pnpm --filter core clear-cache"}]," and then restarting the dev server."]}],"\n",["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["This should be a dev only error, although it might also appear when build previews are deployed (as ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"pnpm reset"}]," is currently (March 25, 2025) run during the build)."]}],"\n",["$","h2",null,{"id":"typescript-dev-server-keeps-crashing","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-10 x:border-b x:pb-1 x:text-3xl nextra-border","children":["Typescript dev server keeps crashing",["$","$L9",null,{"id":"typescript-dev-server-keeps-crashing"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":"This might be due to extremely large types, but it’s likely due to a bug in another VS Code extension or a bug in a Typescript extension."}],"\n",["$","h3",null,{"id":"next-typescript-plugin","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":[[["$","code",null,{"className":"nextra-code","dir":"ltr","children":"next"}]," typescript plugin"],["$","$L9",null,{"id":"next-typescript-plugin"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["Most often, this is due to the ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"next"}]," typescript plugin. Sadly, ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"next"}]," does not want to disable auto adding this plugin to ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"core/tsconfig.json"}],", see ",["$","a",null,{"href":"https://github.com/vercel/next.js/discussions/39942","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["https://github.com/vercel/next.js/discussions/39942",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}],"."]}],"\n",["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["So either, we patch ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"next"}]," to not do this, which can accomplished by doing something like this"]}],"\n",["$","div",null,{"className":"nextra-code x:relative x:not-first:mt-[1.25em]","children":["$undefined",["$","pre",null,{"className":"x:group x:focus-visible:nextra-focus x:overflow-x-auto x:subpixel-antialiased x:text-[.9em] x:bg-white x:dark:bg-black x:py-4 x:ring-1 x:ring-inset x:ring-gray-300 x:dark:ring-neutral-700 x:contrast-more:ring-gray-900 x:contrast-more:dark:ring-gray-50 x:contrast-more:contrast-150 x:rounded-md not-prose","tabIndex":"0","children":["$La","$Lb"]}]]}],"\n","$Lc","\n","$Ld","\n","$Le","\n","$Lf","\n","$L10","\n","$L11","\n","$L12","\n","$L13","\n","$L14","\n","$L15"]}]
8:["$","$L16",null,{"children":["$","$17",null,{"name":"Next.MetadataOutlet","children":"$@18"}]}]
a:["$","div",null,{"className":"x:group-hover:opacity-100 x:group-focus:opacity-100 x:opacity-0 x:transition x:focus-within:opacity-100 x:flex x:gap-1 x:absolute x:right-4 x:top-2","children":[["$","$L19",null,{"children":["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"}]}]}],false]}]
b:["$","code",null,{"className":"nextra-code","dir":"ltr","children":[["$","span",null,{"children":" "}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      if (suggestedActions.length < 1 && requiredActions.length < 1) {"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"          return;"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      }"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#B31D28","--shiki-dark":"#FDAEB7"},"children":"-     await _fs.promises.writeFile(tsConfigPath, _commentjson.stringify(userTsConfig, null, 2) + _os.default.EOL);"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},"children":"+    // await _fs.promises.writeFile(tsConfigPath, _commentjson.stringify(userTsConfig, null, 2) + _os.default.EOL);"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      _log.info('');"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      if (isFirstTimeSetup) {"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"          _log.info(`We detected TypeScript in your project and created a ${(0, _picocolors.cyan)('tsconfig.json')} file for you.`);"}]}]]}]
c:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["You might also need to do the same in ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"node_modules/.pnpm/next@.../node_modules/next/dist/esm/lib/typescript/writeConfigurationDefaults.js"}]," (the ESM version)."]}]
d:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["Another solution is to use the VS Code version of Typescript rather than the workspace version. Do ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"CMD + SHIFT + P"}]," and then ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"> Typescript: Select TypeScript version"}]," and then select ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"Use VS Code Version"}],". Make sure they are both using the same version."]}]
e:["$","h3",null,{"id":"rogue-vs-code-extensions","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Rogue VS Code extensions",["$","$L9",null,{"id":"rogue-vs-code-extensions"}]]}]
f:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":"Some common VS Code extensions can also cause issues."}]
10:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":"Ones I’ve observed to cause issues are:"}]
11:["$","ul",null,{"className":"x:[:is(ol,ul)_&]:my-[.75em] x:not-first:mt-[1.25em] x:list-disc x:ms-[1.5em]","children":["\n",["$","li",null,{"className":"x:my-[.5em]","children":"Astro plugin"}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":["$","code",null,{"className":"nextra-code","dir":"ltr","children":"better-ts-errors"}]}],"\n"]}]
12:["$","h3",null,{"id":"dispatchergetowner-is-not-a-function","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":[["$","code",null,{"className":"nextra-code","dir":"ltr","children":"dispatcher.getOwner is not a function"}],["$","$L9",null,{"id":"dispatchergetowner-is-not-a-function"}]]}]
13:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":"If you see something like"}]
14:["$","div",null,{"className":"nextra-code x:relative x:not-first:mt-[1.25em]","children":["$undefined",["$","pre",null,{"className":"x:group x:focus-visible:nextra-focus x:overflow-x-auto x:subpixel-antialiased x:text-[.9em] x:bg-white x:dark:bg-black x:py-4 x:ring-1 x:ring-inset x:ring-gray-300 x:dark:ring-neutral-700 x:contrast-more:ring-gray-900 x:contrast-more:dark:ring-gray-50 x:contrast-more:contrast-150 x:rounded-md not-prose","tabIndex":"0","children":[["$","div",null,{"className":"x:group-hover:opacity-100 x:group-focus:opacity-100 x:opacity-0 x:transition x:focus-within:opacity-100 x:flex x:gap-1 x:absolute x:right-4 x:top-2","children":[["$","$L19",null,{"children":["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"}]}]}],false]}],["$","code",null,{"className":"nextra-code","dir":"ltr","children":[["$","span",null,{"children":["$","span",null,{"children":"TypeError: dispatcher.getOwner is not a function"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"    at getOwner (/node_modules/.pnpm/react@19.1.1/node_modules/react/cjs/react.development.js:162:54)"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"    at process.env.NODE_ENV.exports.createElement (/node_modules/.pnpm/react@19.1.1/node_modules/react/cjs/react.development.js:1031:9)"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"    at Tester"}]}]]}]]}]]}]
15:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["this likely means that React is trying to render a component with no ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"NODE_ENV"}]," set. This has been observed to happen when running the site-builder with ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"pnpm start"}]," with no ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"NODE_ENV"}]," set, eg when running ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"pnpm start"}],"."]}]
18:null
