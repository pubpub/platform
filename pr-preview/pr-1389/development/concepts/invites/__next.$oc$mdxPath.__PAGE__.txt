1:"$Sreact.fragment"
2:I[74508,["/platform/pr-preview/pr-1389/_next/static/chunks/dd28ad6c648d3915.js","/platform/pr-preview/pr-1389/_next/static/chunks/7c21ffbacf124703.js","/platform/pr-preview/pr-1389/_next/static/chunks/40c2ac68a22f3b83.js","/platform/pr-preview/pr-1389/_next/static/chunks/e2d6c8eabf052809.js"],"TOCProvider"]
3:I[99951,["/platform/pr-preview/pr-1389/_next/static/chunks/dd28ad6c648d3915.js","/platform/pr-preview/pr-1389/_next/static/chunks/7c21ffbacf124703.js","/platform/pr-preview/pr-1389/_next/static/chunks/40c2ac68a22f3b83.js","/platform/pr-preview/pr-1389/_next/static/chunks/e2d6c8eabf052809.js"],"Sidebar"]
4:I[87765,["/platform/pr-preview/pr-1389/_next/static/chunks/dd28ad6c648d3915.js","/platform/pr-preview/pr-1389/_next/static/chunks/7c21ffbacf124703.js","/platform/pr-preview/pr-1389/_next/static/chunks/40c2ac68a22f3b83.js","/platform/pr-preview/pr-1389/_next/static/chunks/e2d6c8eabf052809.js"],"ClientWrapper"]
e:I[22915,["/platform/pr-preview/pr-1389/_next/static/chunks/dd28ad6c648d3915.js","/platform/pr-preview/pr-1389/_next/static/chunks/7c21ffbacf124703.js","/platform/pr-preview/pr-1389/_next/static/chunks/40c2ac68a22f3b83.js","/platform/pr-preview/pr-1389/_next/static/chunks/e2d6c8eabf052809.js"],"HeadingAnchor"]
12:I[99536,["/platform/pr-preview/pr-1389/_next/static/chunks/dd28ad6c648d3915.js","/platform/pr-preview/pr-1389/_next/static/chunks/7c21ffbacf124703.js","/platform/pr-preview/pr-1389/_next/static/chunks/40c2ac68a22f3b83.js","/platform/pr-preview/pr-1389/_next/static/chunks/e2d6c8eabf052809.js"],"Mermaid"]
13:I[2273,["/platform/pr-preview/pr-1389/_next/static/chunks/aeacce398bb52d2f.js","/platform/pr-preview/pr-1389/_next/static/chunks/688156694ad04c7c.js"],"OutletBoundary"]
14:"$Sreact.suspense"
5:T8e3,# Invites

Users can be invited to join a community, stage, or pub. This corresponds to creating a new row in the `invites` table.

Invites (as of writing 2025-04-30)

- Are for adding either new or existing users to a community
- Grant users new roles on acceptance
- Are always coupled to a user. If an invitee does not yet have an account, we will create a new account with `isProvisional` set to true. Once the user has
  accepted the invite and finished signup, the account will be marked as `isProvisional` set to false.

## Statuses

Invites have the following statuses:

| Status      | Description                                               | Can be accepted? |
| ----------- | --------------------------------------------------------- | ---------------- |
| `created`   | The invite has been created but not yet sent              | No               |
| `pending`   | The invite has been sent but not yet accepted or rejected | Yes              |
| `accepted`  | The invite has been accepted but signup not completed     | Yes              |
| `completed` | The invite has been accepted and signup completed         | No               |
| `rejected`  | The invite has been rejected by the invitee               | No               |
| `revoked`   | The invite has been revoked by the inviter                | No               |

## Email invite flow

```mermaid
flowchart LR
    A((Email With Invite Link)) ---> B[Invite Page]

    B --->|No token| C((Invalid State View, no continuation possible))
    B --->|Invalid token| C
    B --->|Expired| C
    B --->|Already accepted| C
    B --->|Rejected| C
    B --->|Revoked| C
    B --->|Not ready| C

    B -->|Wrong user logged in| J((Wrong User View))
    B -->|Not logged in, existing user invite| L((Login/Reject View))
    B -->|Valid invite, user logged in| M((Accept/Reject View))
    B -->|Not logged in, new user invite| M
    M -->|Not logged in, new user invite, accept| N[Signup Page]

    J -->|Logout| B
    L -->|Click login| O[Login Page]

    N -->|Submit with wrong email| N
    N -->|Submit with correct email| P[Form Page]
    O -->|Login as invited user| B

    M -->|Valid user, valid invite, accept| P
    M -->|Reject| Q((Reject Confirmation))
    Q -->|Confirm| R((Rejection Completed))
```0:{"buildId":"853-8At4cu_57-1MKmUsw","rsc":["$","$1","c",{"children":[["$","div",null,{"className":"x:mx-auto x:flex x:max-w-(--nextra-content-width)","children":["$","$L2",null,{"value":[{"value":"Statuses","id":"statuses","depth":2},{"value":"Email invite flow","id":"email-invite-flow","depth":2}],"children":[["$","$L3",null,{}],["$","$L4",null,{"metadata":{"title":"Invites","filePath":"content/development/concepts/invites.mdx","timestamp":1750086553000},"sourceCode":"$5","children":[["$","div",null,{"id":"nextra-skip-nav"}],["$","main",null,{"data-pagefind-body":true,"children":[["$","h1",null,{"className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-bold x:mt-2 x:text-4xl","children":["Invites","$undefined"]}],"\n",["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["Users can be invited to join a community, stage, or pub. This corresponds to creating a new row in the ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"invites"}]," table."]}],"\n",["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":"Invites (as of writing 2025-04-30)"}],"\n",["$","ul",null,{"className":"x:[:is(ol,ul)_&]:my-[.75em] x:not-first:mt-[1.25em] x:list-disc x:ms-[1.5em]","children":["\n",["$","li",null,{"className":"x:my-[.5em]","children":"Are for adding either new or existing users to a community"}],"\n","$L6","\n","$L7","\n"]}],"\n","$L8","\n","$L9","\n","$La","\n","$Lb","\n","$Lc"]}]]}]]}]}],null,"$Ld"]}],"loading":null,"isPartial":false}
6:["$","li",null,{"className":"x:my-[.5em]","children":"Grant users new roles on acceptance"}]
7:["$","li",null,{"className":"x:my-[.5em]","children":["Are always coupled to a user. If an invitee does not yet have an account, we will create a new account with ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"isProvisional"}]," set to true. Once the user has\naccepted the invite and finished signup, the account will be marked as ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"isProvisional"}]," set to false."]}]
8:["$","h2",null,{"id":"statuses","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-10 x:border-b x:pb-1 x:text-3xl nextra-border","children":["Statuses",["$","$Le",null,{"id":"statuses"}]]}]
9:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":"Invites have the following statuses:"}]
a:["$","table",null,{"className":"x:block x:overflow-x-auto nextra-scrollbar x:not-first:mt-[1.25em] x:p-0","children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"Status","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:font-semibold x:dark:border-gray-600"}],["$","th",null,{"children":"Description","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:font-semibold x:dark:border-gray-600"}],["$","th",null,{"children":"Can be accepted?","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:font-semibold x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":["$","code",null,{"className":"nextra-code","dir":"ltr","children":"created"}],"className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"The invite has been created but not yet sent","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"No","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}],["$","tr",null,{"children":[["$","td",null,{"children":["$","code",null,{"className":"nextra-code","dir":"ltr","children":"pending"}],"className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"The invite has been sent but not yet accepted or rejected","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"Yes","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}],["$","tr",null,{"children":[["$","td",null,{"children":["$","code",null,{"className":"nextra-code","dir":"ltr","children":"accepted"}],"className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"The invite has been accepted but signup not completed","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"Yes","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}],["$","tr",null,{"children":[["$","td",null,{"children":["$","code",null,{"className":"nextra-code","dir":"ltr","children":"completed"}],"className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"The invite has been accepted and signup completed","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"No","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}],["$","tr",null,{"children":[["$","td",null,{"children":["$","code",null,{"className":"nextra-code","dir":"ltr","children":"rejected"}],"className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"The invite has been rejected by the invitee","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"No","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}],["$","tr",null,{"children":["$Lf","$L10","$L11"],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}]]}]]}]
b:["$","h2",null,{"id":"email-invite-flow","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-10 x:border-b x:pb-1 x:text-3xl nextra-border","children":["Email invite flow",["$","$Le",null,{"id":"email-invite-flow"}]]}]
c:["$","$L12",null,{"chart":"flowchart LR\\n    A((Email With Invite Link)) ---> B[Invite Page]\\n\\n    B --->|No token| C((Invalid State View, no continuation possible))\\n    B --->|Invalid token| C\\n    B --->|Expired| C\\n    B --->|Already accepted| C\\n    B --->|Rejected| C\\n    B --->|Revoked| C\\n    B --->|Not ready| C\\n\\n    B -->|Wrong user logged in| J((Wrong User View))\\n    B -->|Not logged in, existing user invite| L((Login/Reject View))\\n    B -->|Valid invite, user logged in| M((Accept/Reject View))\\n    B -->|Not logged in, new user invite| M\\n    M -->|Not logged in, new user invite, accept| N[Signup Page]\\n\\n    J -->|Logout| B\\n    L -->|Click login| O[Login Page]\\n\\n    N -->|Submit with wrong email| N\\n    N -->|Submit with correct email| P[Form Page]\\n    O -->|Login as invited user| B\\n\\n    M -->|Valid user, valid invite, accept| P\\n    M -->|Reject| Q((Reject Confirmation))\\n    Q -->|Confirm| R((Rejection Completed))"}]
d:["$","$L13",null,{"children":["$","$14",null,{"name":"Next.MetadataOutlet","children":"$@15"}]}]
f:["$","td",null,{"children":["$","code",null,{"className":"nextra-code","dir":"ltr","children":"revoked"}],"className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]
10:["$","td",null,{"children":"The invite has been revoked by the inviter","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]
11:["$","td",null,{"children":"No","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]
15:null
